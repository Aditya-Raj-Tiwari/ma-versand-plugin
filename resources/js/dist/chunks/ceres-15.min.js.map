{"version":3,"sources":["webpack:///./resources/js/src/app/mixins/buttonSizeProperty.mixin.js","webpack:///./resources/js/src/app/components/newsletter/NewsletterPopUp.vue","webpack:///./resources/js/src/app/components/newsletter/NewsletterPopUp.vue?485d","webpack:///resources/js/src/app/components/newsletter/NewsletterPopUp.vue","webpack:///./resources/js/src/app/components/newsletter/NewsletterPopUp.vue?e6f3"],"names":["BUTTON_SIZES","LEGACY_CLASS_MAP","ButtonSizePropertyMixin","props","buttonSize","type","String","default","validator","value","concat","_toConsumableArray","Object","keys","indexOf","computed","buttonSizeClass","hasOwnProperty","this","render","_vm","_c","_self","ref","staticClass","_m","_v","attrs","id","_uid","method","on","submit","$event","preventDefault","validateData","apply","arguments","showNameInputs","for","_s","$translate","directives","name","rawName","firstName","expression","domProps","input","target","composing","_e","lastName","email","autocomplete","focus","loadRecaptcha","honeypot","tabindex","showPrivacyPolicyCheckbox","privacyPolicyValue","checked","Array","isArray","_i","change","$$a","$$el","$$c","$$i","slice","innerHTML","privacyPolicyText","class","disabled","isDisabled","click","$ceres","config","global","googleRecaptchaApiKey","closePopup","_withStripped","mixins","Boolean","emailFolder","Number","data","link","App","urls","privacyPolicy","hyphen","policy","methods","_this","ValidationService","validate","$","done","save","fail","invalidFields","markInvalidFields","filter","field","dataset","map","innerText","forEach","NotificationService","error","_this2","recaptchaEl","$el","querySelector","window","grecaptcha","executeReCaptcha","then","recaptchaToken","ApiService","post","recaptcha","containsHoneypot","warn","success","closeAfter","resetInputs","always","resetRecaptcha","googleRecaptchaVersion","recaptchaId","reset","openPopup","$refs","mfp","style","display","initPopup","_this3","lastPopup","localStorage","getItem","Date","now","setTimeout","mounted","component","src","alt"],"mappings":"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","file":"chunks/ceres-15.min.js","sourcesContent":["const BUTTON_SIZES = [\"btn-sm\", \"btn-lg\"];\n\nconst LEGACY_CLASS_MAP = {\n    \"sm\": \"btn-sm\",\n    \"md\": \"\",\n    \"lg\": \"btn-lg\"\n};\n\nexport const ButtonSizePropertyMixin =\n{\n    props: {\n        buttonSize:\n        {\n            type: [String, null],\n            default: null,\n            validator: value =>\n            {\n                return [\n                    \"\",\n                    ...BUTTON_SIZES,\n                    ...Object.keys(LEGACY_CLASS_MAP)\n                ].indexOf(value) !== -1;\n            }\n        }\n    },\n\n    computed: {\n        buttonSizeClass()\n        {\n            if (LEGACY_CLASS_MAP.hasOwnProperty(this.buttonSize))\n            {\n                return LEGACY_CLASS_MAP[this.buttonSize];\n            }\n\n            return this.buttonSize;\n        }\n    }\n};\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\"div\", { ref: \"mfp\", staticClass: \"white-popup mfp-hide\" }, [\n    _c(\"div\", { staticClass: \"row\" }, [\n      _vm._m(0),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"col-lg-6 col-sm-12\" }, [\n        _c(\"h1\", [_vm._v(\"Lorem Ipsum\")]),\n        _vm._v(\" \"),\n        _c(\"p\", [\n          _vm._v(\"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\"),\n        ]),\n        _vm._v(\" \"),\n        _c(\n          \"form\",\n          {\n            ref: \"newsletterForm\",\n            attrs: { id: \"newsletter-input-form_\" + _vm._uid, method: \"post\" },\n            on: {\n              submit: function ($event) {\n                $event.preventDefault()\n                return _vm.validateData.apply(null, arguments)\n              },\n            },\n          },\n          [\n            _c(\"div\", { staticClass: \"row\" }, [\n              _vm.showNameInputs\n                ? _c(\"div\", { staticClass: \"col-6\" }, [\n                    _c(\n                      \"div\",\n                      {\n                        staticClass: \"input-unit\",\n                        attrs: { \"data-validate\": \"!regex\" },\n                      },\n                      [\n                        _c(\n                          \"label\",\n                          { attrs: { for: \"first-name-input_\" + _vm._uid } },\n                          [\n                            _vm._v(\n                              _vm._s(\n                                _vm.$translate(\n                                  \"Ceres::Template.newsletterFirstName\"\n                                )\n                              )\n                            ),\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\"input\", {\n                          directives: [\n                            {\n                              name: \"model\",\n                              rawName: \"v-model\",\n                              value: _vm.firstName,\n                              expression: \"firstName\",\n                            },\n                          ],\n                          attrs: {\n                            type: \"text\",\n                            \"data-validate-ref\": \"/[.:\\\\/\\\\d]/g\",\n                            id: \"first-name-input_\" + _vm._uid,\n                            \"data-testing\": \"nl-first-name\",\n                          },\n                          domProps: { value: _vm.firstName },\n                          on: {\n                            input: function ($event) {\n                              if ($event.target.composing) return\n                              _vm.firstName = $event.target.value\n                            },\n                          },\n                        }),\n                      ]\n                    ),\n                  ])\n                : _vm._e(),\n              _vm._v(\" \"),\n              _vm.showNameInputs\n                ? _c(\"div\", { staticClass: \"col-6 pl-0\" }, [\n                    _c(\n                      \"div\",\n                      {\n                        staticClass: \"input-unit\",\n                        attrs: { \"data-validate\": \"!regex\" },\n                      },\n                      [\n                        _c(\n                          \"label\",\n                          { attrs: { for: \"last-name-input_\" + _vm._uid } },\n                          [\n                            _vm._v(\n                              _vm._s(\n                                _vm.$translate(\n                                  \"Ceres::Template.newsletterLastName\"\n                                )\n                              )\n                            ),\n                          ]\n                        ),\n                        _vm._v(\" \"),\n                        _c(\"input\", {\n                          directives: [\n                            {\n                              name: \"model\",\n                              rawName: \"v-model\",\n                              value: _vm.lastName,\n                              expression: \"lastName\",\n                            },\n                          ],\n                          attrs: {\n                            type: \"text\",\n                            \"data-validate-ref\": \"/[.:\\\\/\\\\d]/g\",\n                            id: \"last-name-input_\" + _vm._uid,\n                            \"data-testing\": \"nl-last-name\",\n                          },\n                          domProps: { value: _vm.lastName },\n                          on: {\n                            input: function ($event) {\n                              if ($event.target.composing) return\n                              _vm.lastName = $event.target.value\n                            },\n                          },\n                        }),\n                      ]\n                    ),\n                  ])\n                : _vm._e(),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"col-12\" }, [\n                _c(\"div\", { staticClass: \"input-group\" }, [\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"input-unit\",\n                      attrs: { \"data-validate\": \"mail\" },\n                    },\n                    [\n                      _c(\n                        \"label\",\n                        { attrs: { for: \"email-input-id_\" + _vm._uid } },\n                        [\n                          _vm._v(\n                            _vm._s(\n                              _vm.$translate(\"Ceres::Template.newsletterEmail\")\n                            ) +\n                              \"\\n                  \" +\n                              _vm._s(\n                                _vm.$translate(\n                                  \"Ceres::Template.newsletterIsRequiredFootnote\"\n                                )\n                              )\n                          ),\n                        ]\n                      ),\n                      _vm._v(\" \"),\n                      _c(\"input\", {\n                        directives: [\n                          {\n                            name: \"model\",\n                            rawName: \"v-model\",\n                            value: _vm.email,\n                            expression: \"email\",\n                          },\n                        ],\n                        attrs: {\n                          type: \"email\",\n                          autocomplete: \"email\",\n                          id: \"email-input-id_\" + _vm._uid,\n                          \"data-testing\": \"nl-mail\",\n                        },\n                        domProps: { value: _vm.email },\n                        on: {\n                          focus: function ($event) {\n                            _vm.loadRecaptcha = true\n                          },\n                          input: function ($event) {\n                            if ($event.target.composing) return\n                            _vm.email = $event.target.value\n                          },\n                        },\n                      }),\n                    ]\n                  ),\n                  _vm._v(\" \"),\n                  _c(\"input\", {\n                    directives: [\n                      {\n                        name: \"model\",\n                        rawName: \"v-model\",\n                        value: _vm.honeypot,\n                        expression: \"honeypot\",\n                      },\n                    ],\n                    staticClass: \"honey\",\n                    attrs: {\n                      autocomplete: \"none\",\n                      type: \"text\",\n                      name: \"username\",\n                      tabindex: \"-1\",\n                    },\n                    domProps: { value: _vm.honeypot },\n                    on: {\n                      input: function ($event) {\n                        if ($event.target.composing) return\n                        _vm.honeypot = $event.target.value\n                      },\n                    },\n                  }),\n                ]),\n              ]),\n              _vm._v(\" \"),\n              _vm.showPrivacyPolicyCheckbox\n                ? _c(\"div\", { staticClass: \"col-12\" }, [\n                    _c(\n                      \"div\",\n                      {\n                        staticClass: \"form-check small\",\n                        attrs: { \"data-validate\": \"\" },\n                      },\n                      [\n                        _c(\"input\", {\n                          directives: [\n                            {\n                              name: \"model\",\n                              rawName: \"v-model\",\n                              value: _vm.privacyPolicyValue,\n                              expression: \"privacyPolicyValue\",\n                            },\n                          ],\n                          staticClass: \"form-check-input\",\n                          attrs: {\n                            type: \"checkbox\",\n                            id: \"privacy-policy-accept-id_\" + _vm._uid,\n                            name: \"privacy-policy-accept\",\n                            \"data-testing\": \"nl-policy\",\n                          },\n                          domProps: {\n                            checked: Array.isArray(_vm.privacyPolicyValue)\n                              ? _vm._i(_vm.privacyPolicyValue, null) > -1\n                              : _vm.privacyPolicyValue,\n                          },\n                          on: {\n                            change: function ($event) {\n                              var $$a = _vm.privacyPolicyValue,\n                                $$el = $event.target,\n                                $$c = $$el.checked ? true : false\n                              if (Array.isArray($$a)) {\n                                var $$v = null,\n                                  $$i = _vm._i($$a, $$v)\n                                if ($$el.checked) {\n                                  $$i < 0 &&\n                                    (_vm.privacyPolicyValue = $$a.concat([$$v]))\n                                } else {\n                                  $$i > -1 &&\n                                    (_vm.privacyPolicyValue = $$a\n                                      .slice(0, $$i)\n                                      .concat($$a.slice($$i + 1)))\n                                }\n                              } else {\n                                _vm.privacyPolicyValue = $$c\n                              }\n                            },\n                          },\n                        }),\n                        _vm._v(\" \"),\n                        _c(\"label\", {\n                          staticClass: \"form-check-label\",\n                          attrs: {\n                            for: \"privacy-policy-accept-id_\" + _vm._uid,\n                          },\n                          domProps: {\n                            innerHTML: _vm._s(_vm.privacyPolicyText),\n                          },\n                        }),\n                      ]\n                    ),\n                  ])\n                : _vm._e(),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"col-12 mt-3\" }, [\n                _c(\"div\", { staticClass: \"input-group-btn\" }, [\n                  _c(\n                    \"button\",\n                    {\n                      staticClass: \"btn btn-block btn-primary btn-appearance\",\n                      class: _vm.buttonSizeClass,\n                      attrs: {\n                        type: \"button\",\n                        disabled: _vm.isDisabled,\n                        \"data-testing\": \"nl-send\",\n                      },\n                      on: { click: _vm.validateData },\n                    },\n                    [\n                      _vm._v(\n                        \"\\n                \" +\n                          _vm._s(\n                            _vm.$translate(\n                              \"Ceres::Template.newsletterSubscribeButtonLabel\"\n                            )\n                          ) +\n                          \"\\n              \"\n                      ),\n                    ]\n                  ),\n                ]),\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"col-12 text-left small mt-2\" }, [\n                _vm._v(\n                  \"\\n            \" +\n                    _vm._s(\n                      _vm.$translate(\n                        \"Ceres::Template.newsletterIsRequiredFootnote\"\n                      )\n                    ) +\n                    \"\\n            \" +\n                    _vm._s(\n                      _vm.$translate(\"Ceres::Template.newsletterIsRequired\")\n                    ) +\n                    \"\\n          \"\n                ),\n              ]),\n            ]),\n            _vm._v(\" \"),\n            !!_vm.$ceres.config.global.googleRecaptchaApiKey &&\n            _vm.loadRecaptcha\n              ? _c(\"recaptcha\")\n              : _vm._e(),\n          ],\n          1\n        ),\n        _vm._v(\" \"),\n        _c(\"p\", { staticClass: \"text-left\" }, [\n          _vm._v(\n            \"\\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit.\\n      \"\n          ),\n        ]),\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"button\",\n        { staticClass: \"close-button\", on: { click: _vm.closePopup } },\n        [_c(\"i\", { staticClass: \"fa fa-times\" })]\n      ),\n    ]),\n  ])\n}\nvar staticRenderFns = [\n  function () {\n    var _vm = this,\n      _c = _vm._self._c\n    return _c(\"div\", { staticClass: \"col-lg-6 col-sm-12\" }, [\n      _c(\"img\", {\n        attrs: {\n          src: \"https://cdn02.plentymarkets.com/ocqgl0v083vy/frontend/website_relaunch/newsletter/newsletter-image.jpg\",\n          alt: \"newsletter popup\",\n        },\n      }),\n    ])\n  },\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewsletterPopUp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewsletterPopUp.vue?vue&type=script&lang=js&\"","<template>\n  <div ref=\"mfp\" class=\"white-popup mfp-hide\">\n    <div class=\"row\">\n      <div class=\"col-lg-6 col-sm-12\">\n        <img\n          src=\"https://cdn02.plentymarkets.com/ocqgl0v083vy/frontend/website_relaunch/newsletter/newsletter-image.jpg\"\n          alt=\"newsletter popup\"\n        />\n      </div>\n      <div class=\"col-lg-6 col-sm-12\">\n        <h1>Lorem Ipsum</h1>\n        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>\n        <form\n          ref=\"newsletterForm\"\n          :id=\"'newsletter-input-form_' + _uid\"\n          method=\"post\"\n          @submit.prevent=\"validateData\"\n        >\n          <div class=\"row\">\n            <div class=\"col-6\" v-if=\"showNameInputs\">\n              <div class=\"input-unit\" data-validate=\"!regex\">\n                <label :for=\"'first-name-input_' + _uid\">{{\n                  $translate(\"Ceres::Template.newsletterFirstName\")\n                }}</label>\n                <input\n                  type=\"text\"\n                  data-validate-ref=\"/[.:\\/\\d]/g\"\n                  :id=\"'first-name-input_' + _uid\"\n                  v-model=\"firstName\"\n                  data-testing=\"nl-first-name\"\n                />\n              </div>\n            </div>\n            <div class=\"col-6 pl-0\" v-if=\"showNameInputs\">\n              <div class=\"input-unit\" data-validate=\"!regex\">\n                <label :for=\"'last-name-input_' + _uid\">{{\n                  $translate(\"Ceres::Template.newsletterLastName\")\n                }}</label>\n                <input\n                  type=\"text\"\n                  data-validate-ref=\"/[.:\\/\\d]/g\"\n                  :id=\"'last-name-input_' + _uid\"\n                  v-model=\"lastName\"\n                  data-testing=\"nl-last-name\"\n                />\n              </div>\n            </div>\n\n            <div class=\"col-12\">\n              <div class=\"input-group\">\n                <div class=\"input-unit\" data-validate=\"mail\">\n                  <label :for=\"'email-input-id_' + _uid\"\n                    >{{ $translate(\"Ceres::Template.newsletterEmail\") }}\n                    {{\n                      $translate(\"Ceres::Template.newsletterIsRequiredFootnote\")\n                    }}</label\n                  >\n                  <input\n                    @focus=\"loadRecaptcha = true\"\n                    type=\"email\"\n                    autocomplete=\"email\"\n                    :id=\"'email-input-id_' + _uid\"\n                    v-model=\"email\"\n                    data-testing=\"nl-mail\"\n                  />\n                </div>\n                <input\n                  autocomplete=\"none\"\n                  class=\"honey\"\n                  type=\"text\"\n                  name=\"username\"\n                  tabindex=\"-1\"\n                  v-model=\"honeypot\"\n                />\n              </div>\n            </div>\n\n            <div class=\"col-12\" v-if=\"showPrivacyPolicyCheckbox\">\n              <div class=\"form-check small\" data-validate>\n                <input\n                  type=\"checkbox\"\n                  class=\"form-check-input\"\n                  :id=\"'privacy-policy-accept-id_' + _uid\"\n                  name=\"privacy-policy-accept\"\n                  v-model=\"privacyPolicyValue\"\n                  data-testing=\"nl-policy\"\n                />\n                <label\n                  :for=\"'privacy-policy-accept-id_' + _uid\"\n                  class=\"form-check-label\"\n                  v-html=\"privacyPolicyText\"\n                ></label>\n              </div>\n            </div>\n\n            <div class=\"col-12 mt-3\">\n              <div class=\"input-group-btn\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-block btn-primary btn-appearance\"\n                  @click=\"validateData\"\n                  :disabled=\"isDisabled\"\n                  :class=\"buttonSizeClass\"\n                  data-testing=\"nl-send\"\n                >\n                  {{\n                    $translate(\"Ceres::Template.newsletterSubscribeButtonLabel\")\n                  }}\n                </button>\n              </div>\n            </div>\n\n            <div class=\"col-12 text-left small mt-2\">\n              {{ $translate(\"Ceres::Template.newsletterIsRequiredFootnote\") }}\n              {{ $translate(\"Ceres::Template.newsletterIsRequired\") }}\n            </div>\n          </div>\n          <recaptcha\n            v-if=\"!!$ceres.config.global.googleRecaptchaApiKey && loadRecaptcha\"\n          ></recaptcha>\n        </form>\n\n        <p class=\"text-left\">\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n        </p>\n      </div>\n      <button @click=\"closePopup\" class=\"close-button\">\n        <i class=\"fa fa-times\"></i>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ApiService from \"../../services/ApiService\";\nimport NotificationService from \"../../services/NotificationService\";\nimport ValidationService from \"../../services/ValidationService\";\nimport { executeReCaptcha } from \"../../helper/executeReCaptcha\";\nimport { ButtonSizePropertyMixin } from \"../../mixins/buttonSizeProperty.mixin\";\n\nexport default {\n  name: \"newsletter-pop-up\",\n  mixins: [ButtonSizePropertyMixin],\n\n  props: {\n    showNameInputs: {\n      type: Boolean,\n      default: false,\n    },\n    showPrivacyPolicyCheckbox: {\n      type: Boolean,\n      default: true,\n    },\n    emailFolder: {\n      type: Number,\n      default: 0,\n    },\n  },\n  data() {\n    return {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      isDisabled: false,\n      privacyPolicyValue: false,\n      honeypot: \"\",\n      loadRecaptcha: false,\n    };\n  },\n  computed: {\n    privacyPolicyText() {\n      const link =\n        '<a href=\"' +\n        App.urls.privacyPolicy +\n        '\" target=\"_blank\"><span class=\"text-primary text-appearance\">' +\n        this.$translate(\"Ceres::Template.checkoutPrivacyPolicy\", {\n          hyphen: \"&shy;\",\n        }) +\n        \"</span></a>\";\n\n      return (\n        this.$translate(\"Ceres::Template.newsletterAcceptPrivacyPolicy\", {\n          policy: link,\n        }) + this.$translate(\"Ceres::Template.newsletterIsRequiredFootnote\")\n      );\n    },\n  },\n  methods: {\n    validateData() {\n      this.isDisabled = true;\n\n      ValidationService.validate($(\"#newsletter-input-form_\" + this._uid))\n        .done(() => {\n          this.save();\n        })\n        .fail((invalidFields) => {\n          ValidationService.markInvalidFields(invalidFields, \"error\");\n\n          invalidFields\n            .filter((field) => {\n              return field.dataset.validate !== null;\n            })\n            .map((field) => {\n              return {\n                type: field.dataset.validate,\n                name: field.innerText,\n              };\n            })\n            .forEach((field) => {\n              if (field.type === \"!regex\") {\n                NotificationService.error(\n                  this.$translate(\n                    \"Ceres::Template.newsletterNotAllowedCharacters\",\n                    { name: field.name }\n                  )\n                );\n              }\n            });\n\n          this.isDisabled = false;\n        });\n    },\n\n    save() {\n      const recaptchaEl = this.$el.querySelector(\"[data-recaptcha]\");\n\n      if (\n        App.config.global.googleRecaptchaApiKey &&\n        (!window.grecaptcha || !recaptchaEl)\n      ) {\n        NotificationService.error(\n          this.$translate(\"Ceres::Template.newsletterAcceptRecaptchaCookie\")\n        );\n        this.isDisabled = false;\n        return;\n      }\n\n      executeReCaptcha(this.$el).then((recaptchaToken) => {\n        ApiService.post(\"/rest/io/customer/newsletter\", {\n          email: this.email,\n          firstName: this.firstName,\n          lastName: this.lastName,\n          emailFolder: this.emailFolder,\n          honeypot: this.honeypot,\n          recaptcha: recaptchaToken,\n        })\n          .done((data) => {\n            if (!!data.containsHoneypot) {\n              NotificationService.warn(\n                this.$translate(\"Ceres::Template.newsletterHoneypotWarning\")\n              );\n            } else {\n              NotificationService.success(\n                this.$translate(\"Ceres::Template.newsletterSuccessMessage\")\n              ).closeAfter(3000);\n            }\n            this.resetInputs();\n          })\n          .fail(() => {\n            NotificationService.error(\n              this.$translate(\"Ceres::Template.newsletterErrorMessage\")\n            ).closeAfter(5000);\n          })\n          .always(() => {\n            this.isDisabled = false;\n            this.resetRecaptcha();\n          });\n      });\n    },\n\n    resetInputs() {\n      this.firstName = \"\";\n      this.lastName = \"\";\n      this.email = \"\";\n      this.privacyPolicyValue = false;\n    },\n\n    resetRecaptcha() {\n      if (App.config.global.googleRecaptchaVersion === 2 && window.grecaptcha) {\n        const recaptchaId = this.$el.querySelector(\"[data-recaptcha]\");\n\n        window.grecaptcha.reset(recaptchaId);\n      }\n    },\n    openPopup() {\n      this.$refs.mfp.style.display = \"flex\";\n    },\n    closePopup() {\n      this.$refs.mfp.style.display = \"none\";\n    },\n    initPopup() {\n      let lastPopup = localStorage.getItem(\"lastPopup\");\n      if (!lastPopup || Date.now() - lastPopup > 86400000) {\n        setTimeout(() => {\n          this.openPopup();\n        }, 5000);\n      }\n    },\n  },\n  mounted() {\n    this.initPopup();\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./NewsletterPopUp.vue?vue&type=template&id=62760a20&\"\nimport script from \"./NewsletterPopUp.vue?vue&type=script&lang=js&\"\nexport * from \"./NewsletterPopUp.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}