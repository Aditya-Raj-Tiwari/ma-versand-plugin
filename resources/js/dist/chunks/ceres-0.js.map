{"version":3,"sources":["webpack:///resources/js/src/app/components/item/QuantityInput.vue","webpack:///./resources/js/src/app/components/item/QuantityInput.vue","webpack:///./resources/js/src/app/components/item/QuantityInput.vue?8dc2","webpack:///./resources/js/src/app/components/item/QuantityInput.vue?2b01","webpack:///./resources/js/src/app/components/item/QuantityInput.vue?48eb"],"names":["name","props","value","type","Number","required","timeout","default","min","max","interval","waiting","Boolean","variationId","insideBasket","useAppearance","data","compValue","compMin","compMax","compInterval","compDecimals","onValueChanged","created","_this","defaultValue","minDecimals","floatLength","intervalDecimals","Math","debounce","$emit","isNullOrUndefined","fetchQuantityFromBasket","computed","_objectSpread","variationBasketQuantity","_this2","itemSetVariationId","basketObject","$store","state","basket","items","find","variations","quantity","isMinimum","isDefined","isMaximum","minimumHint","$translate","$options","filters","numberFormat","maximumHint","displayValue","possibleNumbers","numbers","i","push","displayValue2","get","set","setValue","parseFloat","itemSetId","getters","concat","variation","id","mapState","basketItems","watch","newValue","handler","oldValue","deep","newInterval","methods","increaseValue","formatFloat","decreaseValue","replace","App","decimalSeparator","isNaN","limit","diff","$refs","quantityInputField","render","_vm","_c","_self","staticClass","directives","rawName","expression","class","disabled","attrs","title","on","click","$event","_v","ref","domProps","change","target","staticRenderFns","_withStripped"],"mappings":"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","file":"chunks/ceres-0.js","sourcesContent":["<template>\n  <div class=\"qty-box d-flex h-100\">\n    <div class=\"qty-btn-container d-flex flex-column\">\n      <button\n        class=\"btn qty-btn flex-fill d-flex justify-content-center p-0\"\n        @click=\"increaseValue()\"\n        :class=\"{\n          disabled: isMaximum || waiting,\n          'btn-appearance': useAppearance,\n        }\"\n        v-tooltip=\"isMaximum && compMax !== 0\"\n        data-toggle=\"tooltip\"\n        data-placement=\"top\"\n        data-testing=\"quantity-btn-increase\"\n        :title=\"maximumHint\"\n        :aria-label=\"$translate('Ceres::Template.itemQuantityInputIncrease')\"\n      >\n        <i class=\"fa fa-plus default-float\" aria-hidden=\"true\"></i>\n      </button>\n      <input\n        class=\"qty-input text-center\"\n        type=\"text\"\n        :value=\"displayValue\"\n        @change=\"setValue($event.target.value)\"\n        :disabled=\"waiting\"\n        ref=\"quantityInputField\"\n        :aria-label=\"$translate('Ceres::Template.itemQuantityInput')\"\n      />\n\n      <button\n        class=\"btn qty-btn flex-fill d-flex justify-content-center p-0\"\n        @click=\"decreaseValue()\"\n        :class=\"{\n          disabled: isMinimum || waiting,\n          'btn-appearance': useAppearance,\n        }\"\n        v-tooltip=\"isMinimum && compMax !== 0\"\n        data-toggle=\"tooltip\"\n        data-placement=\"bottom\"\n        data-testing=\"quantity-btn-decrease\"\n        :title=\"minimumHint\"\n        :aria-label=\"$translate('Ceres::Template.itemQuantityInputDecrease')\"\n      >\n        <i class=\"fa fa-minus default-float\" aria-hidden=\"true\"></i>\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { floatLength, formatFloat, limit } from \"../../helper/number\";\nimport { defaultValue, isDefined, isNullOrUndefined } from \"../../helper/utils\";\nimport { debounce } from \"../../helper/debounce\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"quantity-input\",\n\n  props: {\n    value: {\n      type: Number,\n      required: true,\n    },\n    timeout: {\n      type: Number,\n      required: false,\n      default: 500,\n    },\n    min: {\n      type: Number,\n      required: false,\n      default: 0,\n    },\n    max: {\n      type: Number,\n      required: false,\n    },\n    interval: {\n      type: Number,\n      required: false,\n      default: 1,\n    },\n    waiting: {\n      type: Boolean,\n      required: false,\n    },\n    variationId: {\n      type: Number,\n      required: false,\n    },\n    insideBasket: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    useAppearance: Boolean,\n  },\n\n  data() {\n    return {\n      compValue: this.value,\n      compMin: this.min,\n      compMax: this.max,\n      compInterval: this.interval,\n      compDecimals: 0,\n      onValueChanged: null,\n    };\n  },\n\n  created() {\n    this.compInterval = defaultValue(this.compInterval, 1);\n    this.compInterval = this.compInterval === 0 ? 1 : this.compInterval;\n\n    const minDecimals = floatLength(this.min);\n    const intervalDecimals = floatLength(this.compInterval);\n\n    this.compDecimals = Math.max(minDecimals, intervalDecimals);\n\n    this.onValueChanged = debounce(() => {\n      this.$emit(\"quantity-change\", this.compValue);\n    }, defaultValue(this.timeout, 500));\n\n    if (!isNullOrUndefined(this.variationId)) {\n      this.fetchQuantityFromBasket();\n    }\n  },\n\n  computed: {\n    variationBasketQuantity() {\n      if (isNullOrUndefined(this.variationId)) {\n        return 0;\n      }\n\n      if (\n        this.itemSetVariationId <= 0 ||\n        this.variationId === this.itemSetVariationId\n      ) {\n        const basketObject = this.$store.state.basket.items.find(\n          (variations) => variations.variationId === this.variationId\n        );\n\n        return basketObject ? basketObject.quantity : 0;\n      }\n\n      return 0;\n    },\n\n    isMinimum() {\n      return (\n        isDefined(this.compMin) &&\n        this.compValue - this.compInterval < this.compMin\n      );\n    },\n\n    isMaximum() {\n      return (\n        isDefined(this.compMax) &&\n        this.compValue + this.compInterval > this.compMax\n      );\n    },\n\n    minimumHint() {\n      return this.$translate(\"Ceres::Template.singleItemQuantityMin\", {\n        min: this.$options.filters.numberFormat(this.compMin),\n      });\n    },\n\n    maximumHint() {\n      return this.$translate(\"Ceres::Template.singleItemQuantityMax\", {\n        max: this.$options.filters.numberFormat(this.max),\n      });\n    },\n\n    displayValue() {\n      return this.$options.filters.numberFormat(this.compValue);\n    },\n    possibleNumbers() {\n      const numbers = [];\n      for (let i = this.compMin; i <= this.compMax; i += this.compInterval) {\n        numbers.push(i);\n      }\n      return numbers;\n    },\n\n    displayValue2: {\n      get() {\n        return this.$options.filters.numberFormat(this.compValue);\n      },\n      set(value) {\n        this.setValue(parseFloat(value));\n      },\n    },\n\n    itemSetVariationId() {\n      if (this.$store.state.items.itemSetId > 0) {\n        return this.$store.getters[\n          `${this.$store.state.items.itemSetId}/currentItemVariation`\n        ].variation.id;\n      }\n\n      return 0;\n    },\n\n    ...mapState({\n      basketItems: (state) => state.basket.items,\n    }),\n  },\n\n  watch: {\n    variationId(newValue) {\n      if (isDefined(newValue)) {\n        this.fetchQuantityFromBasket();\n      }\n    },\n\n    basketItems: {\n      handler(newValue, oldValue) {\n        if (isDefined(this.variationId)) {\n          this.fetchQuantityFromBasket();\n        }\n      },\n      deep: true,\n    },\n\n    min(newValue) {\n      this.compMin = newValue;\n      this.fetchQuantityFromBasket();\n    },\n\n    max(newValue) {\n      this.compMax = newValue;\n      this.fetchQuantityFromBasket();\n    },\n\n    value(newValue, oldValue) {\n      if (newValue !== oldValue) {\n        this.setValue(newValue);\n      }\n    },\n\n    interval(newInterval) {\n      this.compInterval = defaultValue(newInterval, 1);\n    },\n  },\n\n  methods: {\n    increaseValue() {\n      const newValue = formatFloat(\n        this.compValue + this.compInterval,\n        this.compDecimals\n      );\n\n      if (\n        (isNullOrUndefined(this.compMax) || newValue <= this.compMax) &&\n        !this.waiting\n      ) {\n        this.setValue(newValue);\n      }\n    },\n\n    decreaseValue() {\n      const newValue = formatFloat(\n        this.compValue - this.compInterval,\n        this.compDecimals\n      );\n\n      if (\n        (isNullOrUndefined(this.compMin) || newValue >= this.compMin) &&\n        !this.waiting\n      ) {\n        this.setValue(newValue);\n      }\n    },\n\n    setValue(value) {\n      // consider the configured decimal seperator (if the input is typed in the input field)\n      if (typeof value === \"string\") {\n        value = value.replace(App.decimalSeparator || \",\", \".\");\n      }\n\n      value = parseFloat(value);\n      if (isNaN(value)) {\n        value = defaultValue(this.compMin, 1);\n      }\n\n      // limit new value to min/ max value\n      value = limit(value, this.compMin, this.compMax);\n\n      // make sure, new value is an even multiple of interval\n      let diff;\n      if (this.variationBasketQuantity === 0 && this.min !== 0) {\n        diff = formatFloat(\n          (value - this.min) % this.compInterval,\n          this.compDecimals,\n          true\n        );\n      } else {\n        diff = formatFloat(value % this.compInterval, this.compDecimals, true);\n      }\n\n      if (diff > 0 && diff !== this.compInterval) {\n        if (diff < this.compInterval / 2) {\n          value -= diff;\n        } else {\n          value += this.compInterval - diff;\n        }\n        value = limit(value, this.compMin, this.compMax);\n      }\n\n      // cut fraction\n      value = formatFloat(value, this.compDecimals);\n\n      if (value !== this.compValue) {\n        this.compValue = value;\n        this.onValueChanged();\n      } else if (!isNullOrUndefined(this.$refs.quantityInputField)) {\n        this.$refs.quantityInputField.value = this.displayValue;\n      }\n    },\n\n    fetchQuantityFromBasket() {\n      if (\n        !isNullOrUndefined(this.min) &&\n        this.variationBasketQuantity >= this.min &&\n        this.variationBasketQuantity !== 0\n      ) {\n        // set the minimum value to the interval, if the item is already in the basket\n        this.compMin = this.compInterval;\n      } else if (this.variationBasketQuantity === 0) {\n        // reset the minimum, when item is not in the basket\n        this.compMin = this.min;\n      }\n\n      if (!isNullOrUndefined(this.max)) {\n        // decrease maximum quantity by quantity of variations already in basket\n        this.compMax = this.max - this.variationBasketQuantity;\n\n        if (this.variationBasketQuantity + this.compInterval > this.max) {\n          this.compMin = 0;\n          this.compMax = 0;\n          this.$emit(\"out-of-stock\", true);\n        } else {\n          this.$emit(\"out-of-stock\", false);\n        }\n      } else {\n        this.$emit(\"out-of-stock\", false);\n      }\n\n      this.setValue(this.compMin);\n    },\n  },\n};\n</script>","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\"div\", { staticClass: \"qty-box d-flex h-100\" }, [\n    _c(\"div\", { staticClass: \"qty-btn-container d-flex flex-column\" }, [\n      _c(\n        \"button\",\n        {\n          directives: [\n            {\n              name: \"tooltip\",\n              rawName: \"v-tooltip\",\n              value: _vm.isMaximum && _vm.compMax !== 0,\n              expression: \"isMaximum && compMax !== 0\",\n            },\n          ],\n          staticClass:\n            \"btn qty-btn flex-fill d-flex justify-content-center p-0\",\n          class: {\n            disabled: _vm.isMaximum || _vm.waiting,\n            \"btn-appearance\": _vm.useAppearance,\n          },\n          attrs: {\n            \"data-toggle\": \"tooltip\",\n            \"data-placement\": \"top\",\n            \"data-testing\": \"quantity-btn-increase\",\n            title: _vm.maximumHint,\n            \"aria-label\": _vm.$translate(\n              \"Ceres::Template.itemQuantityInputIncrease\"\n            ),\n          },\n          on: {\n            click: function ($event) {\n              return _vm.increaseValue()\n            },\n          },\n        },\n        [\n          _c(\"i\", {\n            staticClass: \"fa fa-plus default-float\",\n            attrs: { \"aria-hidden\": \"true\" },\n          }),\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\"input\", {\n        ref: \"quantityInputField\",\n        staticClass: \"qty-input text-center\",\n        attrs: {\n          type: \"text\",\n          disabled: _vm.waiting,\n          \"aria-label\": _vm.$translate(\"Ceres::Template.itemQuantityInput\"),\n        },\n        domProps: { value: _vm.displayValue },\n        on: {\n          change: function ($event) {\n            return _vm.setValue($event.target.value)\n          },\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"button\",\n        {\n          directives: [\n            {\n              name: \"tooltip\",\n              rawName: \"v-tooltip\",\n              value: _vm.isMinimum && _vm.compMax !== 0,\n              expression: \"isMinimum && compMax !== 0\",\n            },\n          ],\n          staticClass:\n            \"btn qty-btn flex-fill d-flex justify-content-center p-0\",\n          class: {\n            disabled: _vm.isMinimum || _vm.waiting,\n            \"btn-appearance\": _vm.useAppearance,\n          },\n          attrs: {\n            \"data-toggle\": \"tooltip\",\n            \"data-placement\": \"bottom\",\n            \"data-testing\": \"quantity-btn-decrease\",\n            title: _vm.minimumHint,\n            \"aria-label\": _vm.$translate(\n              \"Ceres::Template.itemQuantityInputDecrease\"\n            ),\n          },\n          on: {\n            click: function ($event) {\n              return _vm.decreaseValue()\n            },\n          },\n        },\n        [\n          _c(\"i\", {\n            staticClass: \"fa fa-minus default-float\",\n            attrs: { \"aria-hidden\": \"true\" },\n          }),\n        ]\n      ),\n    ]),\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./QuantityInput.vue?vue&type=template&id=62163595&\"\nimport script from \"./QuantityInput.vue?vue&type=script&lang=js&\"\nexport * from \"./QuantityInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/adityatiwari/plenty/2834/78/maversandVuePlugin/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('62163595')) {\n      api.createRecord('62163595', component.options)\n    } else {\n      api.reload('62163595', component.options)\n    }\n    module.hot.accept(\"./QuantityInput.vue?vue&type=template&id=62163595&\", function () {\n      api.rerender('62163595', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/src/app/components/item/QuantityInput.vue\"\nexport default component.exports","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuantityInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuantityInput.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuantityInput.vue?vue&type=template&id=62163595&\""],"sourceRoot":""}