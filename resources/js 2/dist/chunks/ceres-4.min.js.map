{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.symbol.async-iterator.js","webpack:///./node_modules/core-js/modules/es.symbol.to-string-tag.js","webpack:///./node_modules/core-js/modules/es.json.to-string-tag.js","webpack:///./node_modules/core-js/modules/es.math.to-string-tag.js","webpack:///./node_modules/core-js/modules/es.object.get-prototype-of.js","webpack:///./node_modules/core-js/modules/es.object.set-prototype-of.js","webpack:///./resources/js/src/app/components/itemList/filter/ItemFilterZipcode.vue","webpack:///resources/js/src/app/components/itemList/filter/ItemFilterZipcode.vue","webpack:///./resources/js/src/app/components/itemList/filter/ItemFilterZipcode.vue?1755","webpack:///./resources/js/src/app/components/itemList/filter/ItemFilterZipcode.vue?d501"],"names":["defineWellKnownSymbol","getBuiltIn","setToStringTag","global","JSON","Math","$","fails","toObject","nativeGetPrototypeOf","CORRECT_PROTOTYPE_GETTER","target","stat","forced","sham","getPrototypeOf","it","setPrototypeOf","render","_vm","this","_c","_self","staticClass","directives","name","rawName","value","inputCheck","expression","ref","attrs","type","placeholder","maxlength","domProps","on","change","$event","checkifNumber","input","composing","_v","requestedCode","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","_value","multiple","click","getZipCode","_withStripped","props","facet","data","getResult","baseURL","facetVal","computed","facets","facetName","errorComp","methods","window","fortmatResponse","id","radius","fetch","res","message","result","status","statusText","headers","document","getElementById","classList","changeFacetValue","commonElements","isSelected","mounted","component"],"mappings":"6EAA4B,EAAQ,IAIpCA,CAAsB,kB,oBCJtB,IAAIC,EAAa,EAAQ,IACrBD,EAAwB,EAAQ,KAChCE,EAAiB,EAAQ,IAI7BF,EAAsB,eAItBE,EAAeD,EAAW,UAAW,W,oBCVrC,IAAIE,EAAS,EAAQ,IACA,EAAQ,GAI7BD,CAAeC,EAAOC,KAAM,QAAQ,I,oBCLf,EAAQ,GAI7BF,CAAeG,KAAM,QAAQ,I,oBCJ7B,IAAIC,EAAI,EAAQ,GACZC,EAAQ,EAAQ,GAChBC,EAAW,EAAQ,IACnBC,EAAuB,EAAQ,KAC/BC,EAA2B,EAAQ,KAMvCJ,EAAE,CAAEK,OAAQ,SAAUC,MAAM,EAAMC,OAJRN,GAAM,WAAcE,EAAqB,MAIJK,MAAOJ,GAA4B,CAChGK,eAAgB,SAAwBC,GACtC,OAAOP,EAAqBD,EAASQ,Q,oBCZjC,EAAQ,EAKhBV,CAAE,CAAEK,OAAQ,SAAUC,MAAM,GAAQ,CAClCK,eALmB,EAAQ,Q,4DCDzBC,EAAS,WACX,IAAIC,EAAMC,KACRC,EAAKF,EAAIG,MAAMD,GACjB,OAAOA,EAAG,MAAO,CAAEE,YAAa,mBAAqB,CACnDF,EAAG,MAAO,CAAEE,YAAa,WAAa,CACpCF,EAAG,QAAS,CACVG,WAAY,CACV,CACEC,KAAM,QACNC,QAAS,UACTC,MAAOR,EAAIS,WACXC,WAAY,eAGhBC,IAAK,cACLP,YACE,8DACFQ,MAAO,CACLC,KAAM,OACNC,YAAa,wBACbC,UAAW,KAEbC,SAAU,CAAER,MAAOR,EAAIS,YACvBQ,GAAI,CACFC,OAAQ,SAAUC,GAChB,OAAOnB,EAAIoB,cAAcD,IAE3BE,MAAO,SAAUF,GACXA,EAAO3B,OAAO8B,YAClBtB,EAAIS,WAAaU,EAAO3B,OAAOgB,WAIrCR,EAAIuB,GAAG,KACPrB,EACE,SACA,CACEG,WAAY,CACV,CACEC,KAAM,QACNC,QAAS,UACTC,MAAOR,EAAIwB,cACXd,WAAY,kBAGhBN,YAAa,qDACbQ,MAAO,CAAEN,KAAM,aACfW,GAAI,CACFC,OAAQ,SAAUC,GAChB,IAAIM,EAAgBC,MAAMC,UAAUC,OACjCC,KAAKV,EAAO3B,OAAOsC,SAAS,SAAUC,GACrC,OAAOA,EAAEC,YAEVC,KAAI,SAAUF,GAEb,MADU,WAAYA,EAAIA,EAAEG,OAASH,EAAEvB,SAG3CR,EAAIwB,cAAgBL,EAAO3B,OAAO2C,SAC9BV,EACAA,EAAc,MAIxB,CACEvB,EAAG,SAAU,CAAEU,MAAO,CAAEJ,MAAO,OAAU,CAACR,EAAIuB,GAAG,WACjDvB,EAAIuB,GAAG,KACPrB,EAAG,SAAU,CAAEU,MAAO,CAAEJ,MAAO,KAAMwB,SAAU,SAAY,CACzDhC,EAAIuB,GAAG,WAETvB,EAAIuB,GAAG,KACPrB,EAAG,SAAU,CAAEU,MAAO,CAAEJ,MAAO,OAAU,CAACR,EAAIuB,GAAG,WACjDvB,EAAIuB,GAAG,KACPrB,EAAG,SAAU,CAAEU,MAAO,CAAEJ,MAAO,QAAW,CAACR,EAAIuB,GAAG,cAGtDvB,EAAIuB,GAAG,KACPrB,EACE,SACA,CACEE,YAAa,uCACba,GAAI,CAAEmB,MAAOpC,EAAIqC,aAEnB,CAACrC,EAAIuB,GAAG,+BAMhBxB,EAAOuC,eAAgB,E,ogBC1DvB,+hNAAe,IC9BgN,ED8BhN,CACfhC,2BAEAiC,OACAC,OACA3B,aAGA4B,gBACA,OACAC,aACAC,kDACAC,YACApB,mBACAf,gBAGAoC,UACAC,kBACA,6BAGAC,qBACA,qEACA,8DAGA,iBAEAC,qBACA,oBAIAC,SACA7B,0BACA,wBACA,mBACA8B,qEAGAC,4BACA,iCAEAd,sBAAA,IA5CA,EA4CA,cA5CA,EA4CA,wGAEA,GADAe,4BACAC,mBAEAD,yBAAA,yCAEAE,MACA,yBACAF,2DACA,OAHA,IAAAG,UAKAA,IAAA,gBACA,MAAAC,uEACA,sCAGAD,SAAA,QAAAd,SAEAgB,GACAhB,OACAiB,gBACAC,wBACAC,SACA,6CACA,mDAIA,wBACA,uEAEA,yBACAV,+BACA,2CAEAW,gDACA,kDACAA,SACAC,0CACAC,wBAAA,yDAnFA,kLAuFAC,4BAEA,IADA,SACA,gCACA,qCACA,gDACAC,uBACA,MAIA,gBACA,2BACAf,+BACA,2CAEAW,gDACA,kDACAA,SACAC,0CACAC,yBAGA,yCACAb,qBACAA,kEACA,yBACA,qCACA,yCACAA,qBACAA,oDAEAA,qBACAA,+CAGAA,qBACAA,sDAIAgB,uBACA,OACA,+BACA,gCACA,IAIAC,mBACA,2CACA,iB,OEhKIC,EAAY,YACd,EACArE,EH8EoB,IG5EpB,EACA,KACA,KACA,MAIa,UAAAqE,E","file":"chunks/ceres-4.min.js","sourcesContent":["var defineWellKnownSymbol = require('../internals/well-known-symbol-define');\n\n// `Symbol.asyncIterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.asynciterator\ndefineWellKnownSymbol('asyncIterator');\n","var getBuiltIn = require('../internals/get-built-in');\nvar defineWellKnownSymbol = require('../internals/well-known-symbol-define');\nvar setToStringTag = require('../internals/set-to-string-tag');\n\n// `Symbol.toStringTag` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.tostringtag\ndefineWellKnownSymbol('toStringTag');\n\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag(getBuiltIn('Symbol'), 'Symbol');\n","var global = require('../internals/global');\nvar setToStringTag = require('../internals/set-to-string-tag');\n\n// JSON[@@toStringTag] property\n// https://tc39.es/ecma262/#sec-json-@@tostringtag\nsetToStringTag(global.JSON, 'JSON', true);\n","var setToStringTag = require('../internals/set-to-string-tag');\n\n// Math[@@toStringTag] property\n// https://tc39.es/ecma262/#sec-math-@@tostringtag\nsetToStringTag(Math, 'Math', true);\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar nativeGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n","var $ = require('../internals/export');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n$({ target: 'Object', stat: true }, {\n  setPrototypeOf: setPrototypeOf\n});\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\"div\", { staticClass: \"zip-code-filter\" }, [\n    _c(\"div\", { staticClass: \"d-block\" }, [\n      _c(\"input\", {\n        directives: [\n          {\n            name: \"model\",\n            rawName: \"v-model\",\n            value: _vm.inputCheck,\n            expression: \"inputCheck\",\n          },\n        ],\n        ref: \"get_zipcode\",\n        staticClass:\n          \"filter-form-control_input ml-2 form-control form-control-lg\",\n        attrs: {\n          type: \"text\",\n          placeholder: \"Postleitzahl eingeben\",\n          maxlength: \"5\",\n        },\n        domProps: { value: _vm.inputCheck },\n        on: {\n          change: function ($event) {\n            return _vm.checkifNumber($event)\n          },\n          input: function ($event) {\n            if ($event.target.composing) return\n            _vm.inputCheck = $event.target.value\n          },\n        },\n      }),\n      _vm._v(\" \"),\n      _c(\n        \"select\",\n        {\n          directives: [\n            {\n              name: \"model\",\n              rawName: \"v-model\",\n              value: _vm.requestedCode,\n              expression: \"requestedCode\",\n            },\n          ],\n          staticClass: \"filter-form-control select border custom-select-lg\",\n          attrs: { name: \"LeaveType\" },\n          on: {\n            change: function ($event) {\n              var $$selectedVal = Array.prototype.filter\n                .call($event.target.options, function (o) {\n                  return o.selected\n                })\n                .map(function (o) {\n                  var val = \"_value\" in o ? o._value : o.value\n                  return val\n                })\n              _vm.requestedCode = $event.target.multiple\n                ? $$selectedVal\n                : $$selectedVal[0]\n            },\n          },\n        },\n        [\n          _c(\"option\", { attrs: { value: \"10\" } }, [_vm._v(\"+10km\")]),\n          _vm._v(\" \"),\n          _c(\"option\", { attrs: { value: \"20\", selected: \"true\" } }, [\n            _vm._v(\"+20km\"),\n          ]),\n          _vm._v(\" \"),\n          _c(\"option\", { attrs: { value: \"50\" } }, [_vm._v(\"+50km\")]),\n          _vm._v(\" \"),\n          _c(\"option\", { attrs: { value: \"100\" } }, [_vm._v(\"+100km\")]),\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"button\",\n        {\n          staticClass: \"search-button btn btn-primary btn-lg\",\n          on: { click: _vm.getZipCode },\n        },\n        [_vm._v(\"\\n      Suchen\\n    \")]\n      ),\n    ]),\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"zip-code-filter\">\n    <div class=\"d-block\">\n      <input\n        type=\"text\"\n        ref=\"get_zipcode\"\n        class=\"filter-form-control_input ml-2 form-control form-control-lg\"\n        placeholder=\"Postleitzahl eingeben\"\n        maxlength=\"5\"\n        @change=\"checkifNumber($event)\"\n        v-model=\"inputCheck\"\n      />\n      <select\n        name=\"LeaveType\"\n        class=\"filter-form-control select border custom-select-lg\"\n        v-model=\"requestedCode\"\n      >\n        <option value=\"10\">+10km</option>\n        <option value=\"20\" selected=\"true\">+20km</option>\n        <option value=\"50\">+50km</option>\n        <option value=\"100\">+100km</option>\n      </select>\n      <button class=\"search-button btn btn-primary btn-lg\" @click=\"getZipCode\">\n        Suchen\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"item-filter-zipcode\",\n\n  props: {\n    facet: {\n      type: Array,\n    },\n  },\n  data() {\n    return {\n      getResult: [],\n      baseURL: \"https://webimpact.app/api/radius-search\",\n      facetVal: [],\n      requestedCode: \"20\",\n      inputCheck: \"\",\n    };\n  },\n  computed: {\n    facets() {\n      return this.facet[3].values;\n    },\n\n    facetName() {\n      if (this.facet.translationKey && this.facet.translationKey.length > 0) {\n        return this.$translate(\"Ceres::Template.\" + this.facet.translationKey);\n      }\n\n      return this.facet.name;\n    },\n    errorComp() {\n      return this.error;\n    },\n  },\n\n  methods: {\n    checkifNumber(e) {\n      if (isNaN(e.target.value)) {\n        this.inputCheck = \"\";\n        window.CeresNotification.error(\"Bitte eine gültige PLZ eingeben.\");\n      }\n    },\n    fortmatResponse(res) {\n      return JSON.stringify(res, null, 2);\n    },\n    async getZipCode() {\n      const id = this.$refs.get_zipcode.value;\n      const radius = this.requestedCode;\n\n      if (id && this.requestedCode !== \"\") {\n        try {\n          const res = await fetch(\n            this.baseURL +\n              `?plz=${id}&radius=${radius}&hash=p56ypGNZj8Sm58Wr5T7VEo8Vj`\n          );\n\n          if (!res.ok) {\n            const message = `An error has occured: ${res.status} - ${res.statusText}`;\n            throw new Error(message);\n          }\n\n          const data = await res.json();\n\n          const result = {\n            data: data,\n            status: res.status,\n            statusText: res.statusText,\n            headers: {\n              \"Content-Type\": res.headers.get(\"Content-Type\"),\n              \"Content-Length\": res.headers.get(\"Content-Length\"),\n            },\n          };\n\n          this.getResult = result.data.data;\n          this.changeFacetValue();\n        } catch (err) {\n          this.getResult = err.message;\n          window.CeresNotification.error(\n            \"Keine Kurse in ihrer Umgebung gefunden.\"\n          );\n          document.getElementById(\"campsfound\").innerHTML =\n            \"⚽ Es wurde 0 Camps in Deiner Umgebung gefunden.\";\n          document\n            .getElementById(\"infin-scroller-template\")\n            .classList.add(\"d-none\");\n        }\n      }\n    },\n    changeFacetValue() {\n      let commonElements = [];\n      for (let i = 0; i < this.getResult.length; i++) {\n        for (let j = 0; j < this.facets.length; j++) {\n          if (this.getResult[i].plz === this.facets[j].name) {\n            commonElements.push(this.facets[j]);\n            break;\n          }\n        }\n      }\n      this.facetVal = commonElements;\n      if (this.facetVal.length === 0) {\n        window.CeresNotification.error(\n          \"Keine Kurse in ihrer Umgebung gefunden.\"\n        );\n        document.getElementById(\"campsfound\").innerHTML =\n          \"⚽ Es wurde 0 Camps in Deiner Umgebung gefunden.\";\n        document\n          .getElementById(\"infin-scroller-template\")\n          .classList.add(\"d-none\");\n      }\n\n      if (window.location.href.indexOf(\"Leave\") > -1) {\n        window.location.href =\n          window.location.href.split(\"?\")[0] + \"?facets=\" + this.facetVal[0].id;\n      } else if (this.facetVal.length > 0) {\n        if (window.location.href.indexOf(\"?\") > -1) {\n          if (window.location.href.indexOf(\"Leave\") > -1) {\n            window.location.href =\n              window.location.href + \"&facets=\" + this.facetVal[0].id;\n          } else {\n            window.location.href =\n              window.location.href + \"%2C\" + this.facetVal[0].id;\n          }\n        } else {\n          window.location.href =\n            window.location.href + \"?facets=\" + this.facetVal[0].id;\n        }\n      }\n    },\n    isSelected(facetValueId) {\n      return (\n        this.selectedFacets.findIndex(\n          (selectedFacet) => selectedFacet.id === facetValueId\n        ) > -1\n      );\n    },\n  },\n  mounted() {\n    if (window.location.href.indexOf(\"Leave\") > -1) {\n      this.error = true;\n    }\n  },\n};\n</script>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemFilterZipcode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemFilterZipcode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemFilterZipcode.vue?vue&type=template&id=57ef0bce&\"\nimport script from \"./ItemFilterZipcode.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemFilterZipcode.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}