{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.promise.finally.js","webpack:///./resources/js/src/app/components/category/StepByStepNavigation.vue","webpack:///resources/js/src/app/components/category/StepByStepNavigation.vue","webpack:///./resources/js/src/app/components/category/StepByStepNavigation.vue?4c6a","webpack:///./resources/js/src/app/components/category/StepByStepNavigation.vue?358d"],"names":["$","IS_PURE","NativePromiseConstructor","fails","getBuiltIn","isCallable","speciesConstructor","promiseResolve","defineBuiltIn","NativePromisePrototype","prototype","target","proto","real","forced","call","then","onFinally","C","this","isFunction","x","e","method","unsafe","render","_vm","_c","_self","isInitiallyLoaded","_e","_t","_v","staticClass","_l","categoryChildren","category","class","columnDivider","attrs","href","getCategoryUrl","url","title","details","metaTitle","name","imageSource","src","alt","_s","length","childrenCount","disabled","isWaiting","type","on","click","$event","loadChunk","$translate","icon","loading","_withStripped","props","categoryId","Number","required","chunkSize","default","String","columns","columnsMax","data","computed","_objectSpread","mapState","state","navigation","created","methods","_this","$store","dispatch","size","finally","trailingSlash","App","urls","includeLanguage","concat","language","component"],"mappings":"2FACA,IAAIA,EAAI,EAAQ,IACZC,EAAU,EAAQ,IAClBC,EAA2B,EAAQ,IACnCC,EAAQ,EAAQ,IAChBC,EAAa,EAAQ,IACrBC,EAAa,EAAQ,IACrBC,EAAqB,EAAQ,KAC7BC,EAAiB,EAAQ,KACzBC,EAAgB,EAAQ,IAExBC,EAAyBP,GAA4BA,EAAyBQ,UA0BlF,GAhBAV,EAAE,CAAEW,OAAQ,UAAWC,OAAO,EAAMC,MAAM,EAAMC,SAP5BZ,GAA4BC,GAAM,WAEpDM,EAAgC,QAAEM,KAAK,CAAEC,KAAM,eAA+B,mBAKT,CACrE,QAAW,SAAUC,GACnB,IAAIC,EAAIZ,EAAmBa,KAAMf,EAAW,YACxCgB,EAAaf,EAAWY,GAC5B,OAAOE,KAAKH,KACVI,EAAa,SAAUC,GACrB,OAAOd,EAAeW,EAAGD,KAAaD,MAAK,WAAc,OAAOK,MAC9DJ,EACJG,EAAa,SAAUE,GACrB,OAAOf,EAAeW,EAAGD,KAAaD,MAAK,WAAc,MAAMM,MAC7DL,OAMLhB,GAAWI,EAAWH,GAA2B,CACpD,IAAIqB,EAASnB,EAAW,WAAWM,UAAmB,QAClDD,EAAgC,UAAMc,GACxCf,EAAcC,EAAwB,UAAWc,EAAQ,CAAEC,QAAQ,M,kDCxCnEC,EAAS,WACX,IAAIC,EAAMP,KACRQ,EAAKD,EAAIE,MAAMD,GACjB,OAAOA,EACL,MACA,CACGD,EAAIG,kBAAwCH,EAAII,KAAxBJ,EAAIK,GAAG,WAChCL,EAAIM,GAAG,KACPL,EACE,MACA,CAAEM,YAAa,OACf,CACEP,EAAIQ,GAAGR,EAAIS,kBAAkB,SAAUC,GACrC,OAAOT,EACL,MACA,CACEM,YAAa,aACbI,MAAO,UAAYX,EAAIY,eAEzB,CACEX,EACE,IACA,CACEY,MAAO,CACLC,KAAMd,EAAIe,eAAeL,EAASM,KAClCC,MACEP,EAASQ,QAAQ,GAAGC,WACpBT,EAASQ,QAAQ,GAAGE,OAG1B,CACEnB,EACE,MACA,CACEM,YAAa,yBACbI,MAAO,CAAE,SAA8B,SAApBX,EAAIqB,cAEzB,CACEX,EAASQ,QAAQ,GAAGlB,EAAIqB,aACpBpB,EAAG,MAAO,CAAEM,YAAa,YAAc,CACjB,SAApBP,EAAIqB,YACApB,EAAG,MAAO,CACRY,MAAO,CACLS,IACE,cACAZ,EAASQ,QAAQ,GAAGlB,EAAIqB,aAC1BE,IACEb,EAASQ,QAAQ,GAAGC,WACpBT,EAASQ,QAAQ,GAAGE,QAG1BpB,EAAII,OAEVJ,EAAII,KACRJ,EAAIM,GAAG,KACPL,EACE,MACA,CAAEM,YAAa,oCACf,CACEN,EACE,OACA,CACEM,YACE,yCAEJ,CAACP,EAAIM,GAAGN,EAAIwB,GAAGd,EAASQ,QAAQ,GAAGE,oBAWvDpB,EAAIM,GAAG,KACPN,EAAIS,iBAAiBgB,QACrBzB,EAAIS,iBAAiBgB,OAASzB,EAAI0B,cAC9BzB,EAAG,MAAO,CAAEM,YAAa,gBAAkB,CACzCN,EACE,SACA,CACEM,YAAa,+BACbI,MAAO,CAAEgB,SAAU3B,EAAI4B,WACvBf,MAAO,CAAEgB,KAAM,UACfC,GAAI,CACFC,MAAO,SAAUC,GACf,OAAOhC,EAAIiC,eAIjB,CACEhC,EAAG,OAAQ,CACTD,EAAIM,GACFN,EAAIwB,GACFxB,EAAIkC,WACF,oDAKRlC,EAAIM,GAAG,KACPL,EAAG,OAAQ,CACTM,YAAa,QACbM,MAAO,CACLsB,KAAM,cACN,gBAAiB,YACjBC,QAASpC,EAAI4B,cAInB,KAGJ5B,EAAII,MAEV,IAGJ,IAIJL,EAAOsC,eAAgB,E,s/BC7DR,IC/D6M,ED+D7M,CACfC,MAAA,CACAC,WAAA,CACAV,KAAAW,OACAC,UAAA,GAEAC,UAAA,CACAb,KAAAW,OACAG,QAAA,GAEAtB,YAAA,CACAQ,KAAAe,OACAD,QAAA,aAEAE,QAAA,CACAhB,KAAAW,OACAG,QAAA,GAEAG,WAAA,CACAjB,KAAAW,OACAG,QAAA,IAEAjB,cAAA,CACAG,KAAAW,OACAC,UAAA,IAIAM,KAAA,WACA,OACAnB,WAAA,EACAzB,mBAAA,IAIA6C,S,+VAAAC,CAAA,CACArC,cAAA,WACA,YAAAkC,WAAA,KAAAD,UAGAK,YAAA,CACAzC,iBAAA,SAAA0C,GAAA,OAAAA,EAAAC,WAAA3C,qBAIA4C,QAAA,WACA,KAAApB,aAGAqB,QAAA,CACArB,UAAA,eAAAsB,EAAA,KACA,KAAA3B,YACA,KAAAA,WAAA,EAEA,KAAA4B,OACAC,SAAA,6BACAlB,WAAA,KAAAA,WACAmB,KAAA,KAAAhB,YAEAiB,SAAA,WACAJ,EAAA3B,WAAA,EACA2B,EAAApD,mBAAA,OAKAY,eAAA,SAAAC,GACA,IAAA4C,EAAA,MAAA5C,EAAA,UAKA,OAJA6C,IAAAC,KAAAC,gBAAA,IAAAC,OACAH,IAAAI,UAAAD,OAAAJ,GACA,IAEA5C,K,OEhIIkD,EAAY,YACd,EACAnE,EHkHoB,IGhHpB,EACA,KACA,KACA,MAIa,UAAAmE,E","file":"chunks/ceres-21.min.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromiseConstructor = require('../internals/promise-native-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar defineBuiltIn = require('../internals/define-built-in');\n\nvar NativePromisePrototype = NativePromiseConstructor && NativePromiseConstructor.prototype;\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromiseConstructor && fails(function () {\n  // eslint-disable-next-line unicorn/no-thenable -- required for testing\n  NativePromisePrototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.es/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = isCallable(onFinally);\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// makes sure that native promise-based APIs `Promise#finally` properly works with patched `Promise#then`\nif (!IS_PURE && isCallable(NativePromiseConstructor)) {\n  var method = getBuiltIn('Promise').prototype['finally'];\n  if (NativePromisePrototype['finally'] !== method) {\n    defineBuiltIn(NativePromisePrototype, 'finally', method, { unsafe: true });\n  }\n}\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    [\n      !_vm.isInitiallyLoaded ? _vm._t(\"default\") : _vm._e(),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"row\" },\n        [\n          _vm._l(_vm.categoryChildren, function (category) {\n            return _c(\n              \"div\",\n              {\n                staticClass: \"mb-3 col-6\",\n                class: \"col-md-\" + _vm.columnDivider,\n              },\n              [\n                _c(\n                  \"a\",\n                  {\n                    attrs: {\n                      href: _vm.getCategoryUrl(category.url),\n                      title:\n                        category.details[0].metaTitle ||\n                        category.details[0].name,\n                    },\n                  },\n                  [\n                    _c(\n                      \"div\",\n                      {\n                        staticClass: \"nav-item border d-flex\",\n                        class: { \"no-img\": _vm.imageSource === \"none\" },\n                      },\n                      [\n                        category.details[0][_vm.imageSource]\n                          ? _c(\"div\", { staticClass: \"prop-1-1\" }, [\n                              _vm.imageSource !== \"none\"\n                                ? _c(\"img\", {\n                                    attrs: {\n                                      src:\n                                        \"/documents/\" +\n                                        category.details[0][_vm.imageSource],\n                                      alt:\n                                        category.details[0].metaTitle ||\n                                        category.details[0].name,\n                                    },\n                                  })\n                                : _vm._e(),\n                            ])\n                          : _vm._e(),\n                        _vm._v(\" \"),\n                        _c(\n                          \"div\",\n                          { staticClass: \"nav-text d-flex align-center p-2\" },\n                          [\n                            _c(\n                              \"span\",\n                              {\n                                staticClass:\n                                  \"text-appearance mx-auto text-truncate\",\n                              },\n                              [_vm._v(_vm._s(category.details[0].name))]\n                            ),\n                          ]\n                        ),\n                      ]\n                    ),\n                  ]\n                ),\n              ]\n            )\n          }),\n          _vm._v(\" \"),\n          _vm.categoryChildren.length &&\n          _vm.categoryChildren.length < _vm.childrenCount\n            ? _c(\"div\", { staticClass: \"mb-3 mx-auto\" }, [\n                _c(\n                  \"button\",\n                  {\n                    staticClass: \"btn btn-appearance px-4 py-3\",\n                    class: { disabled: _vm.isWaiting },\n                    attrs: { type: \"button\" },\n                    on: {\n                      click: function ($event) {\n                        return _vm.loadChunk()\n                      },\n                    },\n                  },\n                  [\n                    _c(\"span\", [\n                      _vm._v(\n                        _vm._s(\n                          _vm.$translate(\n                            \"Ceres::Template.stepByStepNavigationShowMore\"\n                          )\n                        )\n                      ),\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"icon\", {\n                      staticClass: \"fa-fw\",\n                      attrs: {\n                        icon: \"plus-circle\",\n                        \"class-loading\": \"fa-repeat\",\n                        loading: _vm.isWaiting,\n                      },\n                    }),\n                  ],\n                  1\n                ),\n              ])\n            : _vm._e(),\n        ],\n        2\n      ),\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <slot v-if=\"!isInitiallyLoaded\"></slot>\n    <div class=\"row\">\n      <div\n        class=\"mb-3 col-6\"\n        :class=\"'col-md-' + columnDivider\"\n        v-for=\"category in categoryChildren\"\n      >\n        <a\n          :href=\"getCategoryUrl(category.url)\"\n          :title=\"category.details[0].metaTitle || category.details[0].name\"\n        >\n          <div\n            class=\"nav-item border d-flex\"\n            :class=\"{ 'no-img': imageSource === 'none' }\"\n          >\n            <div v-if=\"category.details[0][imageSource]\" class=\"prop-1-1\">\n              <img\n                v-if=\"imageSource !== 'none'\"\n                :src=\"'/documents/' + category.details[0][imageSource]\"\n                :alt=\"category.details[0].metaTitle || category.details[0].name\"\n              />\n            </div>\n            <div class=\"nav-text d-flex align-center p-2\">\n              <span class=\"text-appearance mx-auto text-truncate\">{{\n                category.details[0].name\n              }}</span>\n            </div>\n          </div>\n        </a>\n      </div>\n\n      <div\n        class=\"mb-3 mx-auto\"\n        v-if=\"\n          categoryChildren.length && categoryChildren.length < childrenCount\n        \"\n      >\n        <button\n          type=\"button\"\n          class=\"btn btn-appearance px-4 py-3\"\n          @click=\"loadChunk()\"\n          :class=\"{ disabled: isWaiting }\"\n        >\n          <span>{{\n            $translate(\"Ceres::Template.stepByStepNavigationShowMore\")\n          }}</span>\n          <icon\n            icon=\"plus-circle\"\n            class=\"fa-fw\"\n            class-loading=\"fa-repeat\"\n            :loading=\"isWaiting\"\n          ></icon>\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\n\nexport default {\n  props: {\n    categoryId: {\n      type: Number,\n      required: true,\n    },\n    chunkSize: {\n      type: Number,\n      default: 8,\n    },\n    imageSource: {\n      type: String,\n      default: \"imagePath\",\n    },\n    columns: {\n      type: Number,\n      default: 4,\n    },\n    columnsMax: {\n      type: Number,\n      default: 12,\n    },\n    childrenCount: {\n      type: Number,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      isWaiting: false,\n      isInitiallyLoaded: false,\n    };\n  },\n\n  computed: {\n    columnDivider() {\n      return this.columnsMax / this.columns;\n    },\n\n    ...mapState({\n      categoryChildren: (state) => state.navigation.categoryChildren,\n    }),\n  },\n\n  created() {\n    this.loadChunk();\n  },\n\n  methods: {\n    loadChunk() {\n      if (!this.isWaiting) {\n        this.isWaiting = true;\n\n        this.$store\n          .dispatch(\"loadCategoryChildrenChunk\", {\n            categoryId: this.categoryId,\n            size: this.chunkSize,\n          })\n          .finally(() => {\n            this.isWaiting = false;\n            this.isInitiallyLoaded = true;\n          });\n      }\n    },\n\n    getCategoryUrl(url) {\n      const trailingSlash = url[0] === \"/\" ? \"\" : \"/\";\n      const prefix = App.urls.includeLanguage\n        ? `/${App.language}${trailingSlash}`\n        : \"\";\n\n      return prefix + url;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StepByStepNavigation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StepByStepNavigation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StepByStepNavigation.vue?vue&type=template&id=46ba52d8&\"\nimport script from \"./StepByStepNavigation.vue?vue&type=script&lang=js&\"\nexport * from \"./StepByStepNavigation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}